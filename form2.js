var t={stanza:null,finitura:null,email:null,telefono:null,nomecognome:null},n=(document.getElementById("projForm"),document.getElementById("step-stanza")),o={},i=null;function a(){n.style.opacity<1&&(n.style.opacity=1),"none"===n.style.display&&Ce(n),i=document.querySelectorAll('input[type=radio][name="stanza"]');for(var e=0;e<i.length;e++)i[e].addEventListener("click",l,{once:!0,passive:!0})}function l(){for(var e=0;e<i.length;e++)i[e].removeEventListener("click",l,{once:!0,passive:!0});i=null,"Cameretta"!==t.stanza?r():J()}var c=null;function r(){switch(t.stanza){case"Cucina":document.getElementById("img-fin-opaca").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ec3013aac2871039f2_cucina-opaca.jpg",document.getElementById("img-fin-lucida").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ebbd1846339ef6bd8b_cucina-materica.jpg",document.getElementById("img-fin-materica").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ebc015316c13cd990a_cucina-lucida.jpg",document.getElementById("img-fin-legno").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ea0d513222d30122fb_cucina-in-legno.jpg",document.getElementById("img-fin-vetro").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ea05ece0c55fe48f63_cucina-in-vetro.jpg";break;case"Soggiorno":document.getElementById("img-fin-opaca").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3e9b6e20d20cf0c6df2d_soggiorno-opaco.jpg",document.getElementById("img-fin-lucida").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3e9bb6171155ee04c1c0_soggiorno-lucido.jpg",document.getElementById("img-fin-materica").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3e9bcad86ca1102409d0_soggiorno-materico.jpg",document.getElementById("img-fin-legno").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b4ff3a46f947bd8c754a9_soggiorno-legno.jpg",document.getElementById("img-fin-vetro").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3e9bf275493f5d319349_soggiorno-vetro.jpg";break;case"Camera da letto":document.getElementById("img-fin-opaca").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3ef91d6f54098a247893_camera-da-letto-opaca.jpg",document.getElementById("img-fin-lucida").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3ef9e5cc111dd4cee193_camera-da-letto-lucida.jpg",document.getElementById("img-fin-materica").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3ef93a64972f1748b130_camera-da-letto-materica.jpg",document.getElementById("img-fin-legno").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3ef95464bfaf74954f9b_camera-da-letto-legno.jpg",document.getElementById("img-fin-vetro").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3efa4435a27b2b71187d_camera-da-letto-vetro.jpg"}Ce(document.getElementById("step-finitura")),c=document.querySelectorAll('input[type=radio][name="finitura"]');for(var e=0;e<c.length;e++)c[e].addEventListener("click",s,{once:!0,passive:!0});document.querySelector("#step-finitura .hero-btn-back").addEventListener("click",u,{once:!0,passive:!0})}function s(){switch(t.finitura=this.value,c=null,t.stanza){case"Cucina":m();break;case"Soggiorno":g();break;case"Camera da letto":q()}}function u(){for(var e=0;e<c.length;e++)c[e].removeEventListener("click",s,{once:!0,passive:!0});this.removeEventListener("click",u,{once:!0,passive:!0}),c=null,a()}var d=null;function m(){Ce(document.getElementById("step-tipologiaCucina")),d=document.querySelectorAll('input[type=radio][name="tipologiaCucina"]');for(var e=0;e<d.length;e++)d[e].addEventListener("click",p,{once:!0,passive:!0});document.querySelector("#step-tipologiaCucina .hero-btn-back").addEventListener("click",v,{once:!0,passive:!0})}function p(){t.tipologiaCucina=this.value,d=null,ee(m)}function v(){for(var e=0;e<d.length;e++)d[e].removeEventListener("click",p,{once:!0,passive:!0});document.querySelector("#step-tipologiaCucina .hero-btn-back").removeEventListener("click",v,{once:!0,passive:!0}),d=null,r()}var f=null;function g(){Ce(document.getElementById("step-tipologiaSoggiorno")),f=document.querySelectorAll('input[type=radio][name="tipologiaSoggiorno"]');for(var e=0;e<f.length;e++)f[e].addEventListener("click",b,{once:!0,passive:!0});document.querySelector("#step-tipologiaSoggiorno .hero-btn-back").addEventListener("click",y,{once:!0,passive:!0})}function b(){t.tipologiaSoggiorno=this.value,f=null,document.querySelector("#step-tipologiaSoggiorno .hero-btn-back").removeEventListener("click",y,{once:!0,passive:!0}),L()}function y(){for(var e=0;e<f.length;e++)f[e].removeEventListener("click",b,{once:!0,passive:!0});document.querySelector("#step-tipologiaSoggiorno .hero-btn-back").removeEventListener("click",y,{once:!0,passive:!0}),f=null,r()}var E=null,h=null,k=null;function L(){Ce(document.getElementById("step-elementiSoggiorno")),k=document.getElementById("hero-elementiSoggiorno-next"),h=document.querySelector("#step-elementiSoggiorno .hero-error-txt"),k.addEventListener("click",S,{passive:!0}),document.querySelector("#step-elementiSoggiorno .hero-btn-back:not(.next)").addEventListener("click",B,{once:!0,passive:!0})}function S(){if((E=document.querySelectorAll('input[name^="elSog"]:checked')).length<1)h.style.display="block";else{for(element of(t.elementiSoggiorno=[],E))t.elementiSoggiorno.push(element.getAttribute("name").replace("elSog-","").replaceAll("-"," "));E=null,h=null,document.querySelector("#step-elementiSoggiorno .hero-btn-back:not(.next)").removeEventListener("click",B,{once:!0,passive:!0}),k.removeEventListener("click",S,{passive:!0}),k=null,ee(L)}}function B(){E=null,h=null,k.removeEventListener("click",S,{passive:!0}),k=null,g()}var I=null;function q(){Ce(document.getElementById("step-tipologiaArmadio")),I=document.querySelectorAll('input[type=radio][name="tipologiaArmadio"]');for(var e=0;e<I.length;e++)I[e].addEventListener("click",w,{once:!0,passive:!0});document.querySelector("#step-tipologiaArmadio .hero-btn-back").addEventListener("click",C,{once:!0,passive:!0})}function w(){t.tipologiaArmadio=this.value;switch(this.value){case"Cabina":this.value+" armadio";break;case"Angolo":"Armadio ad "+this.value.toLowerCase();break;default:"Armadio "+this.value.toLowerCase()}I=null,document.querySelector("#step-tipologiaArmadio .hero-btn-back").removeEventListener("click",C,{once:!0,passive:!0}),A()}function C(){for(var e=0;e<I.length;e++)I[e].removeEventListener("click",w,{once:!0,passive:!0});document.querySelector("#step-tipologiaArmadio .hero-btn-back").removeEventListener("click",C,{once:!0,passive:!0}),I=null,r()}var x=null;function A(){Ce(document.getElementById("step-tipologiaLetto")),x=document.querySelectorAll('input[type=radio][name="tipologiaLetto"]');for(var e=0;e<x.length;e++)x[e].addEventListener("click",j,{once:!0,passive:!0});document.querySelector("#step-tipologiaLetto .hero-btn-back").addEventListener("click",z,{once:!0,passive:!0})}function j(){t.tipologiaLetto=this.value,x=null,document.querySelector("#step-tipologiaLetto .hero-btn-back").removeEventListener("click",z,{once:!0,passive:!0}),$()}function z(){for(var e=0;e<x.length;e++)x[e].removeEventListener("click",j,{once:!0,passive:!0});document.querySelector("#step-tipologiaLetto .hero-btn-back").removeEventListener("click",z,{once:!0,passive:!0}),x=null,q()}var _=null;function $(){Ce(document.getElementById("step-boxcontenitore")),_=document.querySelectorAll('input[type=radio][name="boxContenitore"]');for(var e=0;e<_.length;e++)_[e].addEventListener("click",D,{once:!0,passive:!0});document.querySelector("#step-boxcontenitore .hero-btn-back").addEventListener("click",F,{once:!0,passive:!0})}function D(){t.boxContenitore="true"===this.value,_=null,document.querySelector("#step-boxcontenitore .hero-btn-back").removeEventListener("click",F,{once:!0,passive:!0}),ee($)}function F(){for(var e=0;e<_.length;e++)_[e].removeEventListener("click",D,{once:!0,passive:!0});document.querySelector("#step-boxcontenitore .hero-btn-back").removeEventListener("click",F,{once:!0,passive:!0}),_=null,A()}var K=null,G=null;function J(){Ce(document.getElementById("step-qtaBambini")),(K=document.getElementById("hero-qtaBambini-next")).addEventListener("click",X,{passive:!0}),G=document.querySelector("#step-qtaBambini .hero-error-txt"),document.querySelector("#step-qtaBambini .hero-btn-back:not(.next)").addEventListener("click",Y,{once:!0,passive:!0})}function X(){document.getElementById("qtaBambini").value<1?G.style.display="block":(t.qtaBambini=document.getElementById("qtaBambini").value,document.querySelector("#step-qtaBambini .hero-btn-back:not(.next)").removeEventListener("click",Y,{once:!0,passive:!0}),K.removeEventListener("click",X,{passive:!0}),K=null,G=null,H())}function Y(){K.removeEventListener("click",X,{passive:!0}),K=null,G=null,a()}var Z=null;function H(){Ce(document.getElementById("step-genBambini")),Z=document.querySelectorAll('input[type=radio][name="genBambini"]');for(var e=0;e<Z.length;e++)Z[e].addEventListener("click",M,{once:!0,passive:!0});document.querySelector("#step-genBambini .hero-btn-back").addEventListener("click",N,{once:!0,passive:!0})}function M(){t.genBambini=this.value,Z=null,document.querySelector("#step-genBambini .hero-btn-back").removeEventListener("click",N,{once:!0,passive:!0}),R()}function N(){for(var e=0;e<Z.length;e++)Z[e].removeEventListener("click",M,{once:!0,passive:!0});Z=null,J()}var O=null,P=null,Q=null;function R(){Ce(document.getElementById("step-elementiCameretta")),Q=document.getElementById("hero-elementiCameretta-next"),P=document.querySelector("#step-elementiCameretta .hero-error-txt"),Q.addEventListener("click",T,{passive:!0}),document.querySelector("#step-elementiCameretta .hero-btn-back:not(.next)").addEventListener("click",U,{once:!0,passive:!0})}function T(){if((O=document.querySelectorAll('input[name^="elCam"]:checked')).length<1)P.style.display="block";else{for(element of(t.elementiCameretta=[],O))t.elementiCameretta.push(element.getAttribute("name").replace("elCam-","").replaceAll("-"," "));O=null,P=null,document.querySelector("#step-elementiCameretta .hero-btn-back:not(.next)").removeEventListener("click",U,{once:!0,passive:!0}),Q.removeEventListener("click",T,{passive:!0}),Q=null,ee(R)}}function U(){O=null,P=null,Q.removeEventListener("click",T,{passive:!0}),Q=null,H()}var V=null,W=null;function ee(e){(null===W||e)&&(W=e),Ce(document.getElementById("step-fotomisure")),(V=document.getElementById("hero-fotomisure-next")).addEventListener("click",te,{once:!0,passive:!0}),document.querySelector("#step-fotomisure .hero-btn-back:not(.next)").addEventListener("click",ne,{once:!0,passive:!0})}function te(){ie()}function ne(){V.removeEventListener("click",te,{once:!0,passive:!0}),document.querySelector("#step-fotomisure .hero-btn-back:not(.next)").removeEventListener("click",ne,{once:!0,passive:!0}),V=null,W()}var oe=null;function ie(){Ce(document.getElementById("step-fotostanza")),(oe=document.getElementById("hero-fotostanza-next")).addEventListener("click",ae,{once:!0,passive:!0}),document.querySelector("#step-fotostanza .hero-btn-back:not(.next)").addEventListener("click",le,{once:!0,passive:!0})}function ae(){re()}function le(){oe.removeEventListener("click",ae,{once:!0,passive:!0}),document.querySelector("#step-fotostanza .hero-btn-back:not(.next)").removeEventListener("click",le,{once:!0,passive:!0}),oe=null,ee()}var ce=null;function re(){Ce(document.getElementById("step-altreinfo")),(ce=document.getElementById("hero-altreinfo-next")).addEventListener("click",se,{once:!0,passive:!0}),document.querySelector("#step-altreinfo .hero-btn-back:not(.next)").addEventListener("click",ue,{once:!0,passive:!0})}function se(){t.altreinfo=document.getElementById("txtarea-altreinfo").value,ce=null,Ce(document.getElementById("step-contacts")),document.getElementById("hero-send-btn"),document.querySelector("#step-contacts .hero-btn-back").addEventListener("click",qe,{once:!0,passive:!0}),de=document.getElementById("hero-email"),me=document.getElementById("hero-telefono"),fe=document.getElementById("hero-nome"),de.addEventListener("input",he,{passive:!0}),de.addEventListener("focusout",ke,{passive:!0}),me.addEventListener("input",Le,{passive:!0}),me.addEventListener("focusout",Se,{passive:!0}),fe.addEventListener("input",Be,{passive:!0}),fe.addEventListener("focusout",Ie,{passive:!0}),pe=document.getElementById("hero-email-error"),ve=document.getElementById("hero-telefono-error"),ge=document.getElementById("hero-nome-error")}function ue(){ce.removeEventListener("click",se,{once:!0,passive:!0}),document.querySelector("#step-altreinfo .hero-btn-back:not(.next)").removeEventListener("click",ce,{once:!0,passive:!0}),ce=null,ie()}var de=null,me=null,pe=null,ve=null,fe=null,ge=null,be=!1,ye=!1,Ee=!1;function he(){if(!be)return;/^\S+@\S+$/.test(de.value)?pe.style.display="none":pe.style.display="block"}function ke(){be||(be=!0),he()}function Le(){if(!ye)return;const e=/^(\+?\+\d{1,4})?\+{0}\d{10}$/;""!==!me.value&&me.value.length>0&&Ee?e.test(me.value.replaceAll(" ",""))?ve.style.display="none":ve.style.display="block":ve.style.display="none",Ee=!1}function Se(){ye||(ye=!0),Ee=!0,Le()}function Be(){""!==fe.value&&(ge.style.display="none")}function Ie(){""===fe.value?ge.style.display="block":ge.style.display="none"}function qe(){document.querySelector("#step-contacts .hero-btn-back").addEventListener("click",qe,{once:!0,passive:!0}),null,re()}var we=function(){firebase.initializeApp({apiKey:"AIzaSyASFwxuCjcGeise9F5JSKwZSKoAYC8SiXA",authDomain:"rb-prjf.firebaseapp.com",projectId:"rb-prjf",storageBucket:"rb-prjf.appspot.com",messagingSenderId:"454602980083",appId:"1:454602980083:web:8ea1d1d3e4dd76a7cc5586"});var e=firebase.storage().ref(),t=document.getElementById("fotomisure-input").files[0],n=document.getElementById("fotostanza-input").files[0],i=null,a=null,l=null,c=null,r=!1,s=!1;t?(i=Date.now()+"-"+o.email+document.getElementById("fotomisure-input").value.split(/(\\|\/)/g).pop().match(/\.[0-9a-z]{3,5}$/i)[0],l=e.child("foto-misure/"+o.route+"/"+i),o.fotomisure="foto-misure/"+o.route+"/"+i,l.put(t).then(e=>{r=!0})):r=!0,n?(a=Date.now()+"-"+o.email+document.getElementById("fotostanza-input").value.split(/(\\|\/)/g).pop().match(/\.[0-9a-z]{3,5}$/i)[0],c=e.child("foto-stanze/"+o.route+"/"+a),o.fotostanza="foto-stanze/"+o.route+"/"+a,c.put(n).then(e=>{s=!0})):s=!0,firebase.firestore().collection(o.route).add(o).then(()=>{if(r&&s)Ce(document.getElementById("hero-success"));else var e=setInterval(()=>{r&&s&&(Ce(document.getElementById("hero-success")),clearInterval(e))},200)}).catch(e=>{console.error("error: ",e)})};function Ce(t){for(e of document.querySelectorAll(".hero-step"))e.style.display="none";t.style.display="block"}document.getElementById("hero-send-btn").addEventListener("click",function(e){if(e.preventDefault(),/^\S+@\S+$/.test(de.value)?!(""!==!me.value&&me.value.length>0&&!/^(\+?\+\d{1,4})?\+{0}\d{10}$/.test(me.value.replaceAll(" ",""))||(""===fe.value?(Ie(),1):(t.email=de.value,t.telefono=""===me.value?"":me.value,t.nomecognome=fe.value,0))):(ke(),Ie(),0)){switch(document.getElementById("hero-send-btn").value="Invio in corso...",t.stanza){case"Cucina":o.route="cucine",o.stanza="Cucina",o.finitura=t.finitura,o.tipologiaCucina=t.tipologiaCucina;break;case"Soggiorno":o.route="soggiorni",o.stanza="Soggiorno",o.finitura=t.finitura,o.tipologiaSoggiorno=t.tipologiaSoggiorno,o.elementiSoggiorno=t.elementiSoggiorno;break;case"Camera da letto":o.route="cameredaletto",o.stanza="Camera da letto",o.finitura=t.finitura,o.tipologiaArmadio=t.tipologiaArmadio,o.tipologiaLetto=t.tipologiaLetto,o.boxcontenitore=t.boxContenitore;break;case"Cameretta":o.route="camerette",o.stanza="Cameretta",o.qtaBambini=t.qtaBambini,o.genBambini=t.genBambini,o.elementiCameretta=t.elementiCameretta}var n,i,a,l,c;o.altreinfo=t.altreinfo,o.email=t.email.replace(/\s/g,""),o.telefono=t.telefono,o.nome=t.nomecognome,n="https://www.gstatic.com/firebasejs/8.6.3/firebase-app.js",i="https://www.gstatic.com/firebasejs/8.6.3/firebase-storage.js",a="https://www.gstatic.com/firebasejs/8.6.3/firebase-firestore.js",l=we,(c=document.createElement("script")).type="text/javascript",c.src=n,c.onload=(()=>{var e=document.createElement("script");e.type="text/javascript",e.src=i,e.onload=(()=>{var e=document.createElement("script");e.type="text/javascript",e.src=a,e.onload=l,document.head.appendChild(e)}),document.head.appendChild(e)}),document.head.appendChild(c)}},{passive:!1}),a();