var t={stanza:null,finitura:null,email:null,telefono:null,nomecognome:null},n=document.getElementById("projForm"),o=document.getElementById("step-stanza"),i=null,a=[],l=[],c=null;function r(){o.style.opacity<1&&(o.style.opacity=1),"none"===o.style.display&&we(o),i&&(i.remove(),i=null,a=[],l=[]),c=document.querySelectorAll('input[type=radio][name="stanza"]');for(var e=0;e<c.length;e++)c[e].addEventListener("click",s,{once:!0,passive:!0})}function s(){for(var e=0;e<c.length;e++)c[e].removeEventListener("click",s,{once:!0,passive:!0});t.stanza=this.value,c=null,i=document.createElement("div");var o=document.createElement("div"),a=document.createElement("div");a.classList.add("adv-line"),o.classList.add("adv-line-wrap"),i.classList.add("adv"),o.appendChild(a),i.appendChild(o),n.appendChild(i),"Cameretta"!==this.value?u():R()}var d=null;function u(){switch(t.stanza){case"Cucina":document.getElementById("img-fin-opaca").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ec3013aac2871039f2_cucina-opaca.jpg",document.getElementById("img-fin-lucida").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ebbd1846339ef6bd8b_cucina-materica.jpg",document.getElementById("img-fin-materica").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ebc015316c13cd990a_cucina-lucida.jpg",document.getElementById("img-fin-legno").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ea0d513222d30122fb_cucina-in-legno.jpg",document.getElementById("img-fin-vetro").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ea05ece0c55fe48f63_cucina-in-vetro.jpg",Ae(5);break;case"Soggiorno":document.getElementById("img-fin-opaca").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3e9b6e20d20cf0c6df2d_soggiorno-opaco.jpg",document.getElementById("img-fin-lucida").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3e9bb6171155ee04c1c0_soggiorno-lucido.jpg",document.getElementById("img-fin-materica").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3e9bcad86ca1102409d0_soggiorno-materico.jpg",document.getElementById("img-fin-legno").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b4ff3a46f947bd8c754a9_soggiorno-legno.jpg",document.getElementById("img-fin-vetro").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3e9bf275493f5d319349_soggiorno-vetro.jpg",Ae(6);break;case"Camera da letto":document.getElementById("img-fin-opaca").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3ef91d6f54098a247893_camera-da-letto-opaca.jpg",document.getElementById("img-fin-lucida").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3ef9e5cc111dd4cee193_camera-da-letto-lucida.jpg",document.getElementById("img-fin-materica").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3ef93a64972f1748b130_camera-da-letto-materica.jpg",document.getElementById("img-fin-legno").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3ef95464bfaf74954f9b_camera-da-letto-legno.jpg",document.getElementById("img-fin-vetro").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3efa4435a27b2b71187d_camera-da-letto-vetro.jpg",Ae(7)}we(document.getElementById("step-finitura")),d=document.querySelectorAll('input[type=radio][name="finitura"]');for(var e=0;e<d.length;e++)d[e].addEventListener("click",m,{once:!0,passive:!0});document.querySelector("#step-finitura .hero-btn-back").addEventListener("click",p,{once:!0,passive:!0})}function m(){switch(t.finitura=this.value,ze(1,"Finitura "+this.value.toLowerCase()),d=null,t.stanza){case"Cucina":f();break;case"Soggiorno":E();break;case"Camera da letto":x()}}function p(){for(var e=0;e<d.length;e++)d[e].removeEventListener("click",m,{once:!0,passive:!0});this.removeEventListener("click",p,{once:!0,passive:!0}),d=null,r()}var v=null;function f(){we(document.getElementById("step-tipologiaCucina")),v=document.querySelectorAll('input[type=radio][name="tipologiaCucina"]');for(var e=0;e<v.length;e++)v[e].addEventListener("click",g,{once:!0,passive:!0});document.querySelector("#step-tipologiaCucina .hero-btn-back").addEventListener("click",b,{once:!0,passive:!0})}function g(){t.tipologiaCucina=this.value,ze(2,this.value),v=null,oe(f)}function b(){for(var e=0;e<v.length;e++)v[e].removeEventListener("click",g,{once:!0,passive:!0});document.querySelector("#step-tipologiaCucina .hero-btn-back").removeEventListener("click",b,{once:!0,passive:!0}),v=null,u()}var y=null;function E(){we(document.getElementById("step-tipologiaSoggiorno")),y=document.querySelectorAll('input[type=radio][name="tipologiaSoggiorno"]');for(var e=0;e<y.length;e++)y[e].addEventListener("click",h,{once:!0,passive:!0});document.querySelector("#step-tipologiaSoggiorno .hero-btn-back").addEventListener("click",k,{once:!0,passive:!0})}function h(){t.tipologiaSoggiorno=this.value,ze(2,this.value),y=null,document.querySelector("#step-tipologiaSoggiorno .hero-btn-back").removeEventListener("click",k,{once:!0,passive:!0}),I()}function k(){for(var e=0;e<y.length;e++)y[e].removeEventListener("click",h,{once:!0,passive:!0});document.querySelector("#step-tipologiaSoggiorno .hero-btn-back").removeEventListener("click",k,{once:!0,passive:!0}),y=null,u()}var L=null,B=null,S=null;function I(){we(document.getElementById("step-elementiSoggiorno")),S=document.getElementById("hero-elementiSoggiorno-next"),B=document.querySelector("#step-elementiSoggiorno .hero-error-txt"),S.addEventListener("click",q,{passive:!0}),document.querySelector("#step-elementiSoggiorno .hero-btn-back:not(.next)").addEventListener("click",C,{once:!0,passive:!0})}function q(){if((L=document.querySelectorAll('input[name^="elSog"]:checked')).length<1)B.style.display="block";else{for(element of(t.elementiSoggiorno=[],L))t.elementiSoggiorno.push(element.getAttribute("name").replace("elSog-","").replaceAll("-"," "));ze(3,t.elementiSoggiorno.join(", ").substring(0,17)+"..."),L=null,B=null,document.querySelector("#step-elementiSoggiorno .hero-btn-back:not(.next)").removeEventListener("click",C,{once:!0,passive:!0}),S.removeEventListener("click",q,{passive:!0}),S=null,oe(I)}}function C(){L=null,B=null,S.removeEventListener("click",q,{passive:!0}),S=null,E()}var w=null;function x(){we(document.getElementById("step-tipologiaArmadio")),w=document.querySelectorAll('input[type=radio][name="tipologiaArmadio"]');for(var e=0;e<w.length;e++)w[e].addEventListener("click",A,{once:!0,passive:!0});document.querySelector("#step-tipologiaArmadio .hero-btn-back").addEventListener("click",z,{once:!0,passive:!0})}function A(){t.tipologiaArmadio=this.value;var e=null;switch(this.value){case"Cabina":e=this.value+" armadio";break;case"Angolo":e="Armadio ad "+this.value.toLowerCase();break;default:e="Armadio "+this.value.toLowerCase()}ze(2,"Cabina"===this.value?this.value+" armadio":e),w=null,document.querySelector("#step-tipologiaArmadio .hero-btn-back").removeEventListener("click",z,{once:!0,passive:!0}),_()}function z(){for(var e=0;e<w.length;e++)w[e].removeEventListener("click",A,{once:!0,passive:!0});document.querySelector("#step-tipologiaArmadio .hero-btn-back").removeEventListener("click",z,{once:!0,passive:!0}),w=null,u()}var j=null;function _(){we(document.getElementById("step-tipologiaLetto")),j=document.querySelectorAll('input[type=radio][name="tipologiaLetto"]');for(var e=0;e<j.length;e++)j[e].addEventListener("click",D,{once:!0,passive:!0});document.querySelector("#step-tipologiaLetto .hero-btn-back").addEventListener("click",F,{once:!0,passive:!0})}function D(){t.tipologiaLetto=this.value,j=null,ze(3,"Legno"===this.value?"Letto in legno":"Letto imbottito"),document.querySelector("#step-tipologiaLetto .hero-btn-back").removeEventListener("click",F,{once:!0,passive:!0}),T()}function F(){for(var e=0;e<j.length;e++)j[e].removeEventListener("click",D,{once:!0,passive:!0});document.querySelector("#step-tipologiaLetto .hero-btn-back").removeEventListener("click",F,{once:!0,passive:!0}),j=null,x()}var $=null;function T(){we(document.getElementById("step-boxcontenitore")),$=document.querySelectorAll('input[type=radio][name="boxContenitore"]');for(var e=0;e<$.length;e++)$[e].addEventListener("click",H,{once:!0,passive:!0});document.querySelector("#step-boxcontenitore .hero-btn-back").addEventListener("click",M,{once:!0,passive:!0})}function H(){t.boxContenitore="true"===this.value,$=null,ze(4,this.value?"Letto senza box":"Letto con box"),document.querySelector("#step-boxcontenitore .hero-btn-back").removeEventListener("click",M,{once:!0,passive:!0}),oe(T)}function M(){for(var e=0;e<$.length;e++)$[e].removeEventListener("click",H,{once:!0,passive:!0});document.querySelector("#step-boxcontenitore .hero-btn-back").removeEventListener("click",M,{once:!0,passive:!0}),$=null,_()}var O=null,P=null;function R(){we(document.getElementById("step-qtaBambini")),Ae(6),(O=document.getElementById("hero-qtaBambini-next")).addEventListener("click",X,{passive:!0}),P=document.querySelector("#step-qtaBambini .hero-error-txt"),document.querySelector("#step-qtaBambini .hero-btn-back:not(.next)").addEventListener("click",G,{once:!0,passive:!0})}function X(){document.getElementById("qtaBambini").value<1?P.style.display="block":(t.qtaBambini=document.getElementById("qtaBambini").value,ze(1,"x"+t.qtaBambini),document.querySelector("#step-qtaBambini .hero-btn-back:not(.next)").removeEventListener("click",G,{once:!0,passive:!0}),O.removeEventListener("click",X,{passive:!0}),O=null,P=null,K())}function G(){O.removeEventListener("click",X,{passive:!0}),O=null,P=null,r()}var J=null;function K(){we(document.getElementById("step-genBambini")),J=document.querySelectorAll('input[type=radio][name="genBambini"]');for(var e=0;e<J.length;e++)J[e].addEventListener("click",N,{once:!0,passive:!0});document.querySelector("#step-genBambini .hero-btn-back").addEventListener("click",Q,{once:!0,passive:!0})}function N(){t.genBambini=this.value,ze(2,this.value),J=null,document.querySelector("#step-genBambini .hero-btn-back").removeEventListener("click",Q,{once:!0,passive:!0}),Y()}function Q(){for(var e=0;e<J.length;e++)J[e].removeEventListener("click",N,{once:!0,passive:!0});J=null,R()}var U=null,V=null,W=null;function Y(){we(document.getElementById("step-elementiCameretta")),W=document.getElementById("hero-elementiCameretta-next"),V=document.querySelector("#step-elementiCameretta .hero-error-txt"),W.addEventListener("click",Z,{passive:!0}),document.querySelector("#step-elementiCameretta .hero-btn-back:not(.next)").addEventListener("click",ee,{once:!0,passive:!0})}function Z(){if((U=document.querySelectorAll('input[name^="elCam"]:checked')).length<1)V.style.display="block";else{for(element of(t.elementiCameretta=[],U))t.elementiCameretta.push(element.getAttribute("name").replace("elCam-","").replaceAll("-"," "));ze(3,t.elementiCameretta.join(", ").substring(0,17)+"..."),U=null,V=null,document.querySelector("#step-elementiCameretta .hero-btn-back:not(.next)").removeEventListener("click",ee,{once:!0,passive:!0}),W.removeEventListener("click",Z,{passive:!0}),W=null,oe(Y)}}function ee(){U=null,V=null,W.removeEventListener("click",Z,{passive:!0}),W=null,K()}var te=null,ne=null;function oe(e){(null===ne||e)&&(ne=e),we(document.getElementById("step-fotomisure")),(te=document.getElementById("hero-fotomisure-next")).addEventListener("click",ie,{once:!0,passive:!0}),document.querySelector("#step-fotomisure .hero-btn-back:not(.next)").addEventListener("click",ae,{once:!0,passive:!0})}function ie(){var e=null;e=document.getElementById("fotomisure-input").files[0]?document.getElementById("fotomisure-input").files[0].name.substring(0,17)+"...":"Foto misure",ze(xe-2,e),ce()}function ae(){te.removeEventListener("click",ie,{once:!0,passive:!0}),document.querySelector("#step-fotomisure .hero-btn-back:not(.next)").removeEventListener("click",ae,{once:!0,passive:!0}),te=null,ne()}var le=null;function ce(){we(document.getElementById("step-fotostanza")),(le=document.getElementById("hero-fotostanza-next")).addEventListener("click",re,{once:!0,passive:!0}),document.querySelector("#step-fotostanza .hero-btn-back:not(.next)").addEventListener("click",se,{once:!0,passive:!0})}function re(){var e=null;e=document.getElementById("fotostanza-input").files[0]?document.getElementById("fotostanza-input").files[0].name.substring(0,17)+"...":"Foto stanza",ze(xe-1,e),we(document.getElementById("step-altreinfo")),(de=document.getElementById("hero-altreinfo-next")).addEventListener("click",ue,{once:!0,passive:!0}),document.querySelector("#step-altreinfo .hero-btn-back:not(.next)").addEventListener("click",me,{once:!0,passive:!0})}function se(){le.removeEventListener("click",re,{once:!0,passive:!0}),document.querySelector("#step-fotostanza .hero-btn-back:not(.next)").removeEventListener("click",se,{once:!0,passive:!0}),le=null,oe()}var de=null;function ue(){t.altreinfo=document.getElementById("txtarea-altreinfo").value,de=null,we(document.getElementById("step-contacts")),document.getElementById("hero-send-btn"),pe=document.getElementById("hero-email"),ve=document.getElementById("hero-telefono"),be=document.getElementById("hero-nome"),pe.addEventListener("input",Le,{passive:!0}),pe.addEventListener("focusout",Be,{passive:!0}),ve.addEventListener("input",Se,{passive:!0}),ve.addEventListener("focusout",Ie,{passive:!0}),be.addEventListener("input",qe,{passive:!0}),be.addEventListener("focusout",Ce,{passive:!0}),fe=document.getElementById("hero-email-error"),ge=document.getElementById("hero-telefono-error"),ye=document.getElementById("hero-nome-error")}function me(){de.removeEventListener("click",ue,{once:!0,passive:!0}),document.querySelector("#step-altreinfo .hero-btn-back:not(.next)").removeEventListener("click",de,{once:!0,passive:!0}),de=null,ce()}var pe=null,ve=null,fe=null,ge=null,be=null,ye=null,Ee=!1,he=!1,ke=!1;function Le(){if(!Ee)return;/^\S+@\S+$/.test(pe.value)?fe.style.display="none":fe.style.display="block"}function Be(){Ee||(Ee=!0),Le()}function Se(){if(!he)return;const e=/^(\+?\+\d{1,4})?\+{0}\d{10}$/;""!==!ve.value&&ve.value.length>0&&ke?e.test(ve.value.replaceAll(" ",""))?ge.style.display="none":ge.style.display="block":ge.style.display="none",ke=!1}function Ie(){he||(he=!0),ke=!0,Se()}function qe(){""!==be.value&&(ye.style.display="none")}function Ce(){""===be.value?ye.style.display="block":ye.style.display="none"}function we(t){for(e of document.querySelectorAll(".hero-step"))e.style.display="none";t.style.display="block"}document.getElementById("hero-send-btn").addEventListener("click",function(e){if(e.preventDefault(),!(/^\S+@\S+$/.test(pe.value)?!(""!==!ve.value&&ve.value.length>0&&!/^(\+?\+\d{1,4})?\+{0}\d{10}$/.test(ve.value.replaceAll(" ",""))||(""===be.value?(Ce(),1):(t.email=pe.value,t.telefono=""===ve.value?"":ve.value,t.nomecognome=be.value,0))):(Be(),Ce(),0)))return;var n=null,o=new FormData;switch(document.getElementById("hero-send-btn").value="Invio in corso...",t.stanza){case"Cucina":n="cucine",o.append("stanza","Cucina"),o.append("finitura",t.finitura),o.append("tipologiaCucina",t.tipologiaCucina);break;case"Soggiorno":n="soggiorni",o.append("stanza","Soggiorno"),o.append("finitura",t.finitura),o.append("tipologiaSoggiorno",t.tipologiaSoggiorno),o.append("elementiSoggiorno",t.elementiSoggiorno);break;case"Camera da letto":n="cameredaletto",o.append("stanza","Camera da letto"),o.append("finitura",t.finitura),o.append("tipologiaArmadio",t.tipologiaArmadio),o.append("tipologiaLetto",t.tipologiaLetto),o.append("boxcontenitore",t.boxContenitore);break;case"Cameretta":n="camerette",o.append("stanza","Cameretta"),o.append("qtaBambini",t.qtaBambini),o.append("genBambini",t.genBambini),o.append("elementiCameretta",t.elementiCameretta)}o.append("fotomisure",document.getElementById("fotomisure-input").files[0]),o.append("fotostanza",document.getElementById("fotostanza-input").files[0]),o.append("altreinfo",t.altreinfo),o.append("email",t.email),o.append("telefono",t.telefono),o.append("nomecognome",t.nomecognome);var a=new XMLHttpRequest;a.addEventListener("load",function(e){i.remove(),we(document.getElementById("hero-success"))}),a.addEventListener("error",function(e){console.log("error: "+e)}),console.log("sending request"),a.open("POST","https://projform.herokuapp.com/"+n),a.send(o)},{passive:!1}),r();var xe=0;function Ae(e){var n=null;if(xe=e,0===a.length){for(var o=0;o<e;o++)(n=document.createElement("div")).classList.add("adv-dot"),advDotLbl=document.createElement("div"),advDotLbl.classList.add("adv-dot-lbl"),i.appendChild(n),n.appendChild(advDotLbl),l.push(advDotLbl),a.push(n);a[0].style.background="#8ce489",l[0].innerText=t.stanza}}function ze(e,t){l[e].innerText=t,a[e].style.background="#8ce489"}function showfileName(e,t){var n=e.split(/(\\|\/)/g).pop();document.getElementById(t+"-name").textContent=n}