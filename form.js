var t={stanza:null,finitura:null,email:null,telefono:null,nomecognome:null},n=document.getElementById("projForm"),o=document.getElementById("step-stanza"),i=null,a=[],l=[],c=null,r=null;function s(){o.style.opacity<1&&(o.style.opacity=1),"none"===o.style.display&&ze(o),i&&(i.remove(),i=null,a=[],l=[]),r=document.querySelectorAll('input[type=radio][name="stanza"]');for(var e=0;e<r.length;e++)r[e].addEventListener("click",d,{once:!0,passive:!0})}function d(){for(var e=0;e<r.length;e++)r[e].removeEventListener("click",d,{once:!0,passive:!0});t.stanza=null!=c?c:this.value,r=null,i=document.createElement("div");var o=document.createElement("div"),a=document.createElement("div");a.classList.add("adv-line"),o.classList.add("adv-line-wrap"),i.classList.add("adv"),o.appendChild(a),i.appendChild(o),n.appendChild(i),"Cameretta"!==t.stanza?m():X()}var u=null;function m(){switch(t.stanza){case"Cucina":document.getElementById("img-fin-opaca").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ec3013aac2871039f2_cucina-opaca.jpg",document.getElementById("img-fin-lucida").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ebbd1846339ef6bd8b_cucina-materica.jpg",document.getElementById("img-fin-materica").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ebc015316c13cd990a_cucina-lucida.jpg",document.getElementById("img-fin-legno").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ea0d513222d30122fb_cucina-in-legno.jpg",document.getElementById("img-fin-vetro").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b23ea05ece0c55fe48f63_cucina-in-vetro.jpg",_e(5);break;case"Soggiorno":document.getElementById("img-fin-opaca").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3e9b6e20d20cf0c6df2d_soggiorno-opaco.jpg",document.getElementById("img-fin-lucida").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3e9bb6171155ee04c1c0_soggiorno-lucido.jpg",document.getElementById("img-fin-materica").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3e9bcad86ca1102409d0_soggiorno-materico.jpg",document.getElementById("img-fin-legno").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b4ff3a46f947bd8c754a9_soggiorno-legno.jpg",document.getElementById("img-fin-vetro").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3e9bf275493f5d319349_soggiorno-vetro.jpg",_e(6);break;case"Camera da letto":document.getElementById("img-fin-opaca").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3ef91d6f54098a247893_camera-da-letto-opaca.jpg",document.getElementById("img-fin-lucida").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3ef9e5cc111dd4cee193_camera-da-letto-lucida.jpg",document.getElementById("img-fin-materica").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3ef93a64972f1748b130_camera-da-letto-materica.jpg",document.getElementById("img-fin-legno").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3ef95464bfaf74954f9b_camera-da-letto-legno.jpg",document.getElementById("img-fin-vetro").src="https://uploads-ssl.webflow.com/5fb23671edd531731a88fddf/606b3efa4435a27b2b71187d_camera-da-letto-vetro.jpg",_e(7)}ze(document.getElementById("step-finitura")),u=document.querySelectorAll('input[type=radio][name="finitura"]');for(var e=0;e<u.length;e++)u[e].addEventListener("click",p,{once:!0,passive:!0});document.querySelector("#step-finitura .hero-btn-back").addEventListener("click",v,{once:!0,passive:!0})}function p(){switch(t.finitura=this.value,De(1,"Finitura "+this.value.toLowerCase()),u=null,t.stanza){case"Cucina":g();break;case"Soggiorno":h();break;case"Camera da letto":A()}}function v(){for(var e=0;e<u.length;e++)u[e].removeEventListener("click",p,{once:!0,passive:!0});this.removeEventListener("click",v,{once:!0,passive:!0}),u=null,s()}var f=null;function g(){ze(document.getElementById("step-tipologiaCucina")),f=document.querySelectorAll('input[type=radio][name="tipologiaCucina"]');for(var e=0;e<f.length;e++)f[e].addEventListener("click",b,{once:!0,passive:!0});document.querySelector("#step-tipologiaCucina .hero-btn-back").addEventListener("click",y,{once:!0,passive:!0})}function b(){t.tipologiaCucina=this.value,De(2,this.value),f=null,ie(g)}function y(){for(var e=0;e<f.length;e++)f[e].removeEventListener("click",b,{once:!0,passive:!0});document.querySelector("#step-tipologiaCucina .hero-btn-back").removeEventListener("click",y,{once:!0,passive:!0}),f=null,m()}var E=null;function h(){ze(document.getElementById("step-tipologiaSoggiorno")),E=document.querySelectorAll('input[type=radio][name="tipologiaSoggiorno"]');for(var e=0;e<E.length;e++)E[e].addEventListener("click",k,{once:!0,passive:!0});document.querySelector("#step-tipologiaSoggiorno .hero-btn-back").addEventListener("click",L,{once:!0,passive:!0})}function k(){t.tipologiaSoggiorno=this.value,De(2,this.value),E=null,document.querySelector("#step-tipologiaSoggiorno .hero-btn-back").removeEventListener("click",L,{once:!0,passive:!0}),I()}function L(){for(var e=0;e<E.length;e++)E[e].removeEventListener("click",k,{once:!0,passive:!0});document.querySelector("#step-tipologiaSoggiorno .hero-btn-back").removeEventListener("click",L,{once:!0,passive:!0}),E=null,m()}var B=null,S=null,q=null;function I(){ze(document.getElementById("step-elementiSoggiorno")),q=document.getElementById("hero-elementiSoggiorno-next"),S=document.querySelector("#step-elementiSoggiorno .hero-error-txt"),q.addEventListener("click",C,{passive:!0}),document.querySelector("#step-elementiSoggiorno .hero-btn-back:not(.next)").addEventListener("click",w,{once:!0,passive:!0})}function C(){if((B=document.querySelectorAll('input[name^="elSog"]:checked')).length<1)S.style.display="block";else{for(element of(t.elementiSoggiorno=[],B))t.elementiSoggiorno.push(element.getAttribute("name").replace("elSog-","").replaceAll("-"," "));De(3,t.elementiSoggiorno.join(", ").substring(0,17)+"..."),B=null,S=null,document.querySelector("#step-elementiSoggiorno .hero-btn-back:not(.next)").removeEventListener("click",w,{once:!0,passive:!0}),q.removeEventListener("click",C,{passive:!0}),q=null,ie(I)}}function w(){B=null,S=null,q.removeEventListener("click",C,{passive:!0}),q=null,h()}var x=null;function A(){ze(document.getElementById("step-tipologiaArmadio")),x=document.querySelectorAll('input[type=radio][name="tipologiaArmadio"]');for(var e=0;e<x.length;e++)x[e].addEventListener("click",z,{once:!0,passive:!0});document.querySelector("#step-tipologiaArmadio .hero-btn-back").addEventListener("click",j,{once:!0,passive:!0})}function z(){t.tipologiaArmadio=this.value;var e=null;switch(this.value){case"Cabina":e=this.value+" armadio";break;case"Angolo":e="Armadio ad "+this.value.toLowerCase();break;default:e="Armadio "+this.value.toLowerCase()}De(2,"Cabina"===this.value?this.value+" armadio":e),x=null,document.querySelector("#step-tipologiaArmadio .hero-btn-back").removeEventListener("click",j,{once:!0,passive:!0}),D()}function j(){for(var e=0;e<x.length;e++)x[e].removeEventListener("click",z,{once:!0,passive:!0});document.querySelector("#step-tipologiaArmadio .hero-btn-back").removeEventListener("click",j,{once:!0,passive:!0}),x=null,m()}var _=null;function D(){ze(document.getElementById("step-tipologiaLetto")),_=document.querySelectorAll('input[type=radio][name="tipologiaLetto"]');for(var e=0;e<_.length;e++)_[e].addEventListener("click",F,{once:!0,passive:!0});document.querySelector("#step-tipologiaLetto .hero-btn-back").addEventListener("click",$,{once:!0,passive:!0})}function F(){t.tipologiaLetto=this.value,_=null,De(3,"Legno"===this.value?"Letto in legno":"Letto imbottito"),document.querySelector("#step-tipologiaLetto .hero-btn-back").removeEventListener("click",$,{once:!0,passive:!0}),H()}function $(){for(var e=0;e<_.length;e++)_[e].removeEventListener("click",F,{once:!0,passive:!0});document.querySelector("#step-tipologiaLetto .hero-btn-back").removeEventListener("click",$,{once:!0,passive:!0}),_=null,A()}var T=null;function H(){ze(document.getElementById("step-boxcontenitore")),T=document.querySelectorAll('input[type=radio][name="boxContenitore"]');for(var e=0;e<T.length;e++)T[e].addEventListener("click",M,{once:!0,passive:!0});document.querySelector("#step-boxcontenitore .hero-btn-back").addEventListener("click",O,{once:!0,passive:!0})}function M(){t.boxContenitore="true"===this.value,T=null,De(4,this.value?"Letto senza box":"Letto con box"),document.querySelector("#step-boxcontenitore .hero-btn-back").removeEventListener("click",O,{once:!0,passive:!0}),ie(H)}function O(){for(var e=0;e<T.length;e++)T[e].removeEventListener("click",M,{once:!0,passive:!0});document.querySelector("#step-boxcontenitore .hero-btn-back").removeEventListener("click",O,{once:!0,passive:!0}),T=null,D()}var P=null,R=null;function X(){ze(document.getElementById("step-qtaBambini")),_e(6),(P=document.getElementById("hero-qtaBambini-next")).addEventListener("click",G,{passive:!0}),R=document.querySelector("#step-qtaBambini .hero-error-txt"),document.querySelector("#step-qtaBambini .hero-btn-back:not(.next)").addEventListener("click",J,{once:!0,passive:!0})}function G(){document.getElementById("qtaBambini").value<1?R.style.display="block":(t.qtaBambini=document.getElementById("qtaBambini").value,De(1,"x"+t.qtaBambini),document.querySelector("#step-qtaBambini .hero-btn-back:not(.next)").removeEventListener("click",J,{once:!0,passive:!0}),P.removeEventListener("click",G,{passive:!0}),P=null,R=null,N())}function J(){P.removeEventListener("click",G,{passive:!0}),P=null,R=null,s()}var K=null;function N(){ze(document.getElementById("step-genBambini")),K=document.querySelectorAll('input[type=radio][name="genBambini"]');for(var e=0;e<K.length;e++)K[e].addEventListener("click",Q,{once:!0,passive:!0});document.querySelector("#step-genBambini .hero-btn-back").addEventListener("click",U,{once:!0,passive:!0})}function Q(){t.genBambini=this.value,De(2,this.value),K=null,document.querySelector("#step-genBambini .hero-btn-back").removeEventListener("click",U,{once:!0,passive:!0}),Z()}function U(){for(var e=0;e<K.length;e++)K[e].removeEventListener("click",Q,{once:!0,passive:!0});K=null,X()}var V=null,W=null,Y=null;function Z(){ze(document.getElementById("step-elementiCameretta")),Y=document.getElementById("hero-elementiCameretta-next"),W=document.querySelector("#step-elementiCameretta .hero-error-txt"),Y.addEventListener("click",ee,{passive:!0}),document.querySelector("#step-elementiCameretta .hero-btn-back:not(.next)").addEventListener("click",te,{once:!0,passive:!0})}function ee(){if((V=document.querySelectorAll('input[name^="elCam"]:checked')).length<1)W.style.display="block";else{for(element of(t.elementiCameretta=[],V))t.elementiCameretta.push(element.getAttribute("name").replace("elCam-","").replaceAll("-"," "));De(3,t.elementiCameretta.join(", ").substring(0,17)+"..."),V=null,W=null,document.querySelector("#step-elementiCameretta .hero-btn-back:not(.next)").removeEventListener("click",te,{once:!0,passive:!0}),Y.removeEventListener("click",ee,{passive:!0}),Y=null,ie(Z)}}function te(){V=null,W=null,Y.removeEventListener("click",ee,{passive:!0}),Y=null,N()}var ne=null,oe=null;function ie(e){(null===oe||e)&&(oe=e),ze(document.getElementById("step-fotomisure")),(ne=document.getElementById("hero-fotomisure-next")).addEventListener("click",ae,{once:!0,passive:!0}),document.querySelector("#step-fotomisure .hero-btn-back:not(.next)").addEventListener("click",le,{once:!0,passive:!0})}function ae(){var e=null;e=document.getElementById("fotomisure-input").files[0]?document.getElementById("fotomisure-input").files[0].name.substring(0,17)+"...":"Foto misure",De(je-2,e),re()}function le(){ne.removeEventListener("click",ae,{once:!0,passive:!0}),document.querySelector("#step-fotomisure .hero-btn-back:not(.next)").removeEventListener("click",le,{once:!0,passive:!0}),ne=null,oe()}var ce=null;function re(){ze(document.getElementById("step-fotostanza")),(ce=document.getElementById("hero-fotostanza-next")).addEventListener("click",se,{once:!0,passive:!0}),document.querySelector("#step-fotostanza .hero-btn-back:not(.next)").addEventListener("click",de,{once:!0,passive:!0})}function se(){var e=null;e=document.getElementById("fotostanza-input").files[0]?document.getElementById("fotostanza-input").files[0].name.substring(0,17)+"...":"Foto stanza",De(je-1,e),me()}function de(){ce.removeEventListener("click",se,{once:!0,passive:!0}),document.querySelector("#step-fotostanza .hero-btn-back:not(.next)").removeEventListener("click",de,{once:!0,passive:!0}),ce=null,ie()}var ue=null;function me(){ze(document.getElementById("step-altreinfo")),(ue=document.getElementById("hero-altreinfo-next")).addEventListener("click",pe,{once:!0,passive:!0}),document.querySelector("#step-altreinfo .hero-btn-back:not(.next)").addEventListener("click",ve,{once:!0,passive:!0})}function pe(){t.altreinfo=document.getElementById("txtarea-altreinfo").value,ue=null,ze(document.getElementById("step-contacts")),document.getElementById("hero-send-btn"),document.querySelector("#step-contacts .hero-btn-back").addEventListener("click",Ae,{once:!0,passive:!0}),fe=document.getElementById("hero-email"),ge=document.getElementById("hero-telefono"),Ee=document.getElementById("hero-nome"),fe.addEventListener("input",Se,{passive:!0}),fe.addEventListener("focusout",qe,{passive:!0}),ge.addEventListener("input",Ie,{passive:!0}),ge.addEventListener("focusout",Ce,{passive:!0}),Ee.addEventListener("input",we,{passive:!0}),Ee.addEventListener("focusout",xe,{passive:!0}),be=document.getElementById("hero-email-error"),ye=document.getElementById("hero-telefono-error"),he=document.getElementById("hero-nome-error")}function ve(){ue.removeEventListener("click",pe,{once:!0,passive:!0}),document.querySelector("#step-altreinfo .hero-btn-back:not(.next)").removeEventListener("click",ue,{once:!0,passive:!0}),ue=null,re()}var fe=null,ge=null,be=null,ye=null,Ee=null,he=null,ke=!1,Le=!1,Be=!1;function Se(){if(!ke)return;/^\S+@\S+$/.test(fe.value)?be.style.display="none":be.style.display="block"}function qe(){ke||(ke=!0),Se()}function Ie(){if(!Le)return;const e=/^(\+?\+\d{1,4})?\+{0}\d{10}$/;""!==!ge.value&&ge.value.length>0&&Be?e.test(ge.value.replaceAll(" ",""))?ye.style.display="none":ye.style.display="block":ye.style.display="none",Be=!1}function Ce(){Le||(Le=!0),Be=!0,Ie()}function we(){""!==Ee.value&&(he.style.display="none")}function xe(){""===Ee.value?he.style.display="block":he.style.display="none"}function Ae(){document.querySelector("#step-contacts .hero-btn-back").addEventListener("click",Ae,{once:!0,passive:!0}),null,me()}function ze(t){for(e of document.querySelectorAll(".hero-step"))e.style.display="none";t.style.display="block"}document.getElementById("hero-send-btn").addEventListener("click",function(e){if(e.preventDefault(),/^\S+@\S+$/.test(fe.value)?!(""!==!ge.value&&ge.value.length>0&&!/^(\+?\+\d{1,4})?\+{0}\d{10}$/.test(ge.value.replaceAll(" ",""))||(""===Ee.value?(xe(),1):(t.email=fe.value,t.telefono=""===ge.value?"":ge.value,t.nomecognome=Ee.value,0))):(qe(),xe(),0)){var n=null,o=new FormData;switch(document.getElementById("hero-send-btn").value="Invio in corso...",t.stanza){case"Cucina":n="cucine",o.append("stanza","Cucina"),o.append("finitura",t.finitura),o.append("tipologiaCucina",t.tipologiaCucina);break;case"Soggiorno":n="soggiorni",o.append("stanza","Soggiorno"),o.append("finitura",t.finitura),o.append("tipologiaSoggiorno",t.tipologiaSoggiorno),o.append("elementiSoggiorno",t.elementiSoggiorno);break;case"Camera da letto":n="cameredaletto",o.append("stanza","Camera da letto"),o.append("finitura",t.finitura),o.append("tipologiaArmadio",t.tipologiaArmadio),o.append("tipologiaLetto",t.tipologiaLetto),o.append("boxcontenitore",t.boxContenitore);break;case"Cameretta":n="camerette",o.append("stanza","Cameretta"),o.append("qtaBambini",t.qtaBambini),o.append("genBambini",t.genBambini),o.append("elementiCameretta",t.elementiCameretta)}o.append("fotomisure",document.getElementById("fotomisure-input").files[0]),o.append("fotostanza",document.getElementById("fotostanza-input").files[0]),o.append("altreinfo",t.altreinfo),o.append("email",t.email),o.append("telefono",t.telefono),o.append("nomecognome",t.nomecognome);var a=new XMLHttpRequest;a.addEventListener("load",function(e){i.remove(),ze(document.getElementById("hero-success"))}),a.addEventListener("error",function(e){console.log("error: "+e)}),console.log("sending request"),a.open("POST","https://projform.herokuapp.com/"+n),a.send(o)}},{passive:!1}),s();var je=0;function _e(e){var n=null;if(je=e,0===a.length){for(var o=0;o<e;o++)(n=document.createElement("div")).classList.add("adv-dot"),advDotLbl=document.createElement("div"),advDotLbl.classList.add("adv-dot-lbl"),i.appendChild(n),n.appendChild(advDotLbl),l.push(advDotLbl),a.push(n);a[0].style.background="#8ce489",l[0].innerText=t.stanza}}function De(e,t){l[e].innerText=t,a[e].style.background="#8ce489"}