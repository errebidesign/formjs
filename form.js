var formValues={stanza:null,finitura:null,email:null,telefono:null,nomecognome:null},stepStanzaDiv=document.getElementById("step-stanza"),radioStanze=null;function stepStanza(){"none"===stepStanzaDiv.style.display&&hideOthersAndShow(stepStanzaDiv),radioStanze=document.querySelectorAll('input[type=radio][name="stanza"]');for(var e=0;e<radioStanze.length;e++)radioStanze[e].addEventListener("click",setStanza,{once:!0,passive:!0})}function setStanza(){for(var e=0;e<radioStanze.length;e++)radioStanze[e].removeEventListener("click",setStanza,{once:!0,passive:!0});formValues.stanza=this.value,radioStanze=null,"Cameretta"!==this.value?stepFinitura():stepQtaBambini()}var radioFiniture=null;function stepFinitura(){hideOthersAndShow(document.getElementById("step-finitura")),radioFiniture=document.querySelectorAll('input[type=radio][name="finitura"]');for(var e=0;e<radioFiniture.length;e++)radioFiniture[e].addEventListener("click",setFinitura,{once:!0,passive:!0});document.querySelector("#step-finitura .hero-btn-back").addEventListener("click",backFromFinitura,{once:!0,passive:!0})}function setFinitura(){switch(formValues.finitura=this.value,radioFiniture=null,formValues.stanza){case"Cucina":stepTipologiaCucina();break;case"Soggiorno":stepTipologiaSoggiorno();break;case"Camera da letto":stepTipologiaArmadio()}}function backFromFinitura(){for(var e=0;e<radioFiniture.length;e++)radioFiniture[e].removeEventListener("click",setFinitura,{once:!0,passive:!0});this.removeEventListener("click",backFromFinitura,{once:!0,passive:!0}),radioFiniture=null,stepStanza()}var radioTipologiaCucina=null;function stepTipologiaCucina(){hideOthersAndShow(document.getElementById("step-tipologiaCucina")),radioTipologiaCucina=document.querySelectorAll('input[type=radio][name="tipologiaCucina"]');for(var e=0;e<radioTipologiaCucina.length;e++)radioTipologiaCucina[e].addEventListener("click",setTipologiaCucina,{once:!0,passive:!0});document.querySelector("#step-tipologiaCucina .hero-btn-back").addEventListener("click",backFromTipologiaCucina,{once:!0,passive:!0})}function setTipologiaCucina(){formValues.tipologiaCucina=this.value,radioTipologiaCucina=null,stepFotoMisure(stepTipologiaCucina)}function backFromTipologiaCucina(){for(var e=0;e<radioTipologiaCucina.length;e++)radioTipologiaCucina[e].removeEventListener("click",setTipologiaCucina,{once:!0,passive:!0});document.querySelector("#step-tipologiaCucina .hero-btn-back").removeEventListener("click",backFromTipologiaCucina,{once:!0,passive:!0}),radioTipologiaCucina=null,stepFinitura()}var radioTipologiaSoggiorno=null;function stepTipologiaSoggiorno(){hideOthersAndShow(document.getElementById("step-tipologiaSoggiorno")),radioTipologiaSoggiorno=document.querySelectorAll('input[type=radio][name="tipologiaSoggiorno"]');for(var e=0;e<radioTipologiaSoggiorno.length;e++)radioTipologiaSoggiorno[e].addEventListener("click",setTipologiaSoggiorno,{once:!0,passive:!0});document.querySelector("#step-tipologiaSoggiorno .hero-btn-back").addEventListener("click",backFromTipologiaSoggiorno,{once:!0,passive:!0})}function setTipologiaSoggiorno(){formValues.tipologiaSoggiorno=this.value,radioTipologiaSoggiorno=null,document.querySelector("#step-tipologiaSoggiorno .hero-btn-back").removeEventListener("click",backFromTipologiaSoggiorno,{once:!0,passive:!0}),stepElementiSoggiorno()}function backFromTipologiaSoggiorno(){for(var e=0;e<radioTipologiaSoggiorno.length;e++)radioTipologiaSoggiorno[e].removeEventListener("click",setTipologiaSoggiorno,{once:!0,passive:!0});document.querySelector("#step-tipologiaSoggiorno .hero-btn-back").removeEventListener("click",backFromTipologiaSoggiorno,{once:!0,passive:!0}),radioTipologiaSoggiorno=null,stepFinitura()}var checkElementiSoggiorno=null,elementiSoggiornoError=null,btnElementiSoggiornoNext=null;function stepElementiSoggiorno(){hideOthersAndShow(document.getElementById("step-elementiSoggiorno")),btnElementiSoggiornoNext=document.getElementById("hero-elementiSoggiorno-next"),elementiSoggiornoError=document.querySelector("#step-elementiSoggiorno .hero-error-txt"),btnElementiSoggiornoNext.addEventListener("click",setElementiSoggiorno,{passive:!0}),document.querySelector("#step-elementiSoggiorno .hero-btn-back:not(.next)").addEventListener("click",backFromElementiSoggiorno,{once:!0,passive:!0})}function setElementiSoggiorno(){if((checkElementiSoggiorno=document.querySelectorAll('input[name^="elSog"]:checked')).length<1)elementiSoggiornoError.style.display="block";else{for(element of(formValues.elementiSoggiorno=[],checkElementiSoggiorno))formValues.elementiSoggiorno.push(element.getAttribute("name").replace("elSog-","").replaceAll("-"," "));checkElementiSoggiorno=null,elementiSoggiornoError=null,document.querySelector("#step-elementiSoggiorno .hero-btn-back:not(.next)").removeEventListener("click",backFromElementiSoggiorno,{once:!0,passive:!0}),btnElementiSoggiornoNext.removeEventListener("click",setElementiSoggiorno,{passive:!0}),btnElementiSoggiornoNext=null,stepFotoMisure(stepElementiSoggiorno)}}function backFromElementiSoggiorno(){checkElementiSoggiorno=null,elementiSoggiornoError=null,btnElementiSoggiornoNext.removeEventListener("click",setElementiSoggiorno,{passive:!0}),btnElementiSoggiornoNext=null,stepTipologiaSoggiorno()}var radioTipologiaArmadio=null;function stepTipologiaArmadio(){hideOthersAndShow(document.getElementById("step-tipologiaArmadio")),radioTipologiaArmadio=document.querySelectorAll('input[type=radio][name="tipologiaArmadio"]');for(var e=0;e<radioTipologiaArmadio.length;e++)radioTipologiaArmadio[e].addEventListener("click",setTipologiaArmadio,{once:!0,passive:!0});document.querySelector("#step-tipologiaArmadio .hero-btn-back").addEventListener("click",backFromTipologiaArmadio,{once:!0,passive:!0})}function setTipologiaArmadio(){formValues.tipologiaArmadio=this.value,radioTipologiaArmadio=null,document.querySelector("#step-tipologiaArmadio .hero-btn-back").removeEventListener("click",backFromTipologiaArmadio,{once:!0,passive:!0}),stepTipologiaLetto()}function backFromTipologiaArmadio(){for(var e=0;e<radioTipologiaArmadio.length;e++)radioTipologiaArmadio[e].removeEventListener("click",setTipologiaArmadio,{once:!0,passive:!0});document.querySelector("#step-tipologiaArmadio .hero-btn-back").removeEventListener("click",backFromTipologiaArmadio,{once:!0,passive:!0}),radioTipologiaArmadio=null,stepFinitura()}var radioTipologiaLetto=null;function stepTipologiaLetto(){hideOthersAndShow(document.getElementById("step-tipologiaLetto")),radioTipologiaLetto=document.querySelectorAll('input[type=radio][name="tipologiaLetto"]');for(var e=0;e<radioTipologiaLetto.length;e++)radioTipologiaLetto[e].addEventListener("click",setTipologiaLetto,{once:!0,passive:!0});document.querySelector("#step-tipologiaLetto .hero-btn-back").addEventListener("click",backFromTipologiaLetto,{once:!0,passive:!0})}function setTipologiaLetto(){formValues.tipologiaLetto=this.value,radioTipologiaLetto=null,document.querySelector("#step-tipologiaLetto .hero-btn-back").removeEventListener("click",backFromTipologiaLetto,{once:!0,passive:!0}),stepBoxContenitore()}function backFromTipologiaLetto(){for(var e=0;e<radioTipologiaLetto.length;e++)radioTipologiaLetto[e].removeEventListener("click",setTipologiaLetto,{once:!0,passive:!0});document.querySelector("#step-tipologiaLetto .hero-btn-back").removeEventListener("click",backFromTipologiaLetto,{once:!0,passive:!0}),radioTipologiaLetto=null,stepTipologiaArmadio()}var radioBoxContenitore=null;function stepBoxContenitore(){hideOthersAndShow(document.getElementById("step-boxcontenitore")),radioBoxContenitore=document.querySelectorAll('input[type=radio][name="boxContenitore"]');for(var e=0;e<radioBoxContenitore.length;e++)radioBoxContenitore[e].addEventListener("click",setBoxContenitore,{once:!0,passive:!0});document.querySelector("#step-boxcontenitore .hero-btn-back").addEventListener("click",backFromBoxContenitore,{once:!0,passive:!0})}function setBoxContenitore(){formValues.boxContenitore="true"===this.value,radioBoxContenitore=null,document.querySelector("#step-boxcontenitore .hero-btn-back").removeEventListener("click",backFromBoxContenitore,{once:!0,passive:!0}),stepFotoMisure(stepBoxContenitore)}function backFromBoxContenitore(){for(var e=0;e<radioBoxContenitore.length;e++)radioBoxContenitore[e].removeEventListener("click",setBoxContenitore,{once:!0,passive:!0});document.querySelector("#step-boxcontenitore .hero-btn-back").removeEventListener("click",backFromBoxContenitore,{once:!0,passive:!0}),radioBoxContenitore=null,stepTipologiaLetto()}var btnQtaBambiniNext=null,qtaBambiniError=null;function stepQtaBambini(){hideOthersAndShow(document.getElementById("step-qtaBambini")),(btnQtaBambiniNext=document.getElementById("hero-qtaBambini-next")).addEventListener("click",setQtaBambini,{passive:!0}),qtaBambiniError=document.querySelector("#step-qtaBambini .hero-error-txt"),document.querySelector("#step-qtaBambini .hero-btn-back:not(.next)").addEventListener("click",backFromQtaBambini,{once:!0,passive:!0})}function setQtaBambini(){document.getElementById("qtaBambini").value<1?qtaBambiniError.style.display="block":(formValues.qtaBambini=document.getElementById("qtaBambini").value,document.querySelector("#step-qtaBambini .hero-btn-back:not(.next)").removeEventListener("click",backFromQtaBambini,{once:!0,passive:!0}),btnQtaBambiniNext.removeEventListener("click",setQtaBambini,{passive:!0}),btnQtaBambiniNext=null,qtaBambiniError=null,stepGenBambini())}function backFromQtaBambini(){btnQtaBambiniNext.removeEventListener("click",setQtaBambini,{passive:!0}),btnQtaBambiniNext=null,qtaBambiniError=null,stepStanza()}var radioGenBambini=null;function stepGenBambini(){hideOthersAndShow(document.getElementById("step-genBambini")),radioGenBambini=document.querySelectorAll('input[type=radio][name="genBambini"]');for(var e=0;e<radioGenBambini.length;e++)radioGenBambini[e].addEventListener("click",setGenBambini,{once:!0,passive:!0});document.querySelector("#step-genBambini .hero-btn-back").addEventListener("click",backFromGenBambini,{once:!0,passive:!0})}function setGenBambini(){formValues.genBambini=this.value,radioGenBambini=null,document.querySelector("#step-genBambini .hero-btn-back").removeEventListener("click",backFromGenBambini,{once:!0,passive:!0}),stepElementiCameretta()}function backFromGenBambini(){for(var e=0;e<radioGenBambini.length;e++)radioGenBambini[e].removeEventListener("click",setGenBambini,{once:!0,passive:!0});radioGenBambini=null,stepQtaBambini()}var checkElementiCameretta=null,elementiCamerettaError=null,btnElementiCamerettaNext=null;function stepElementiCameretta(){hideOthersAndShow(document.getElementById("step-elementiCameretta")),btnElementiCamerettaNext=document.getElementById("hero-elementiCameretta-next"),elementiCamerettaError=document.querySelector("#step-elementiCameretta .hero-error-txt"),btnElementiCamerettaNext.addEventListener("click",setElementiCameretta,{passive:!0}),document.querySelector("#step-elementiCameretta .hero-btn-back:not(.next)").addEventListener("click",backfromElementiCameretta,{once:!0,passive:!0})}function setElementiCameretta(){if((checkElementiCameretta=document.querySelectorAll('input[name^="elCam"]:checked')).length<1)elementiCamerettaError.style.display="block";else{for(element of(formValues.elementiCameretta=[],checkElementiCameretta))formValues.elementiCameretta.push(element.getAttribute("name").replace("elCam-","").replaceAll("-"," "));checkElementiCameretta=null,elementiCamerettaError=null,document.querySelector("#step-elementiCameretta .hero-btn-back:not(.next)").removeEventListener("click",backfromElementiCameretta,{once:!0,passive:!0}),btnElementiCamerettaNext.removeEventListener("click",setElementiCameretta,{passive:!0}),btnElementiCamerettaNext=null,stepFotoMisure(stepElementiCameretta)}}function backfromElementiCameretta(){checkElementiCameretta=null,elementiCamerettaError=null,btnElementiCamerettaNext.removeEventListener("click",setElementiCameretta,{passive:!0}),btnElementiCamerettaNext=null,stepGenBambini()}var btnFotoMisure=null,fotoMisurePreviousStep=null;function stepFotoMisure(e){(null===fotoMisurePreviousStep||e)&&(fotoMisurePreviousStep=e),hideOthersAndShow(document.getElementById("step-fotomisure")),(btnFotoMisure=document.getElementById("hero-fotomisure-next")).addEventListener("click",setFotoMisure,{once:!0,passive:!0}),document.querySelector("#step-fotomisure .hero-btn-back:not(.next)").addEventListener("click",backFromFotoMisure,{once:!0,passive:!0})}function setFotoMisure(){stepFotoStanza()}function backFromFotoMisure(){btnFotoMisure.removeEventListener("click",setFotoMisure,{once:!0,passive:!0}),document.querySelector("#step-fotomisure .hero-btn-back:not(.next)").removeEventListener("click",backFromFotoMisure,{once:!0,passive:!0}),btnFotoMisure=null,fotoMisurePreviousStep()}var btnFotoStanza=null;function stepFotoStanza(){hideOthersAndShow(document.getElementById("step-fotostanza")),(btnFotoStanza=document.getElementById("hero-fotostanza-next")).addEventListener("click",setFotoStanza,{once:!0,passive:!0}),document.querySelector("#step-fotostanza .hero-btn-back:not(.next)").addEventListener("click",backFromFotoStanza,{once:!0,passive:!0})}function setFotoStanza(){stepAltreInfo()}function backFromFotoStanza(){btnFotoStanza.removeEventListener("click",setFotoStanza,{once:!0,passive:!0}),document.querySelector("#step-fotostanza .hero-btn-back:not(.next)").removeEventListener("click",backFromFotoStanza,{once:!0,passive:!0}),btnFotoStanza=null,stepFotoMisure()}var btnAltreInfo=null;function stepAltreInfo(){hideOthersAndShow(document.getElementById("step-altreinfo")),(btnAltreInfo=document.getElementById("hero-altreinfo-next")).addEventListener("click",setAltreInfo,{once:!0,passive:!0}),document.querySelector("#step-altreinfo .hero-btn-back:not(.next)").addEventListener("click",backFromAltreInfo,{once:!0,passive:!0})}function setAltreInfo(){formValues.altreinfo=document.getElementById("txtarea-altreinfo").value,btnAltreInfo=null,stepContacts()}function backFromAltreInfo(){btnAltreInfo.removeEventListener("click",setAltreInfo,{once:!0,passive:!0}),document.querySelector("#step-altreinfo .hero-btn-back:not(.next)").removeEventListener("click",btnAltreInfo,{once:!0,passive:!0}),btnAltreInfo=null,stepFotoStanza()}var btnContacts=null,inputEmail=null,inputTelefono=null,inputEmailError=null,inputTelefonoError=null,inputNome=null,inputNomeError=null,emailLeft=!1,telefonoLeft=!1,leavingTel=!1;function stepContacts(){hideOthersAndShow(document.getElementById("step-contacts")),btnContacts=document.getElementById("hero-send-btn"),inputEmail=document.getElementById("hero-email"),inputTelefono=document.getElementById("hero-telefono"),inputNome=document.getElementById("hero-nome"),inputEmail.addEventListener("input",testEmail,{passive:!0}),inputEmail.addEventListener("focusout",focusOutEmail,{passive:!0}),inputTelefono.addEventListener("input",testTelefono,{passive:!0}),inputTelefono.addEventListener("focusout",focusOutTelefono,{passive:!0}),inputNome.addEventListener("input",testNome,{passive:!0}),inputNome.addEventListener("focusout",focusOutNome,{passive:!0}),inputEmailError=document.getElementById("hero-email-error"),inputTelefonoError=document.getElementById("hero-telefono-error"),inputNomeError=document.getElementById("hero-nome-error")}function testEmail(){if(!emailLeft)return;/^\S+@\S+$/.test(inputEmail.value)?inputEmailError.style.display="none":inputEmailError.style.display="block"}function focusOutEmail(){emailLeft||(emailLeft=!0),testEmail()}function testTelefono(){if(!telefonoLeft)return;const e=/^(\+?\+\d{1,4})?\+{0}\d{10}$/;""!==!inputTelefono.value&&inputTelefono.value.length>0&&leavingTel?e.test(inputTelefono.value.replaceAll(" ",""))?inputTelefonoError.style.display="none":inputTelefonoError.style.display="block":inputTelefonoError.style.display="none",leavingTel=!1}function focusOutTelefono(){telefonoLeft||(telefonoLeft=!0),leavingTel=!0,testTelefono()}function testNome(){""!==inputNome.value&&(inputNomeError.style.display="none")}function focusOutNome(){""===inputNome.value?inputNomeError.style.display="block":inputNomeError.style.display="none"}function setContacts(){if(!/^\S+@\S+$/.test(inputEmail.value))return focusOutEmail(),focusOutNome(),!1;return!(""!==!inputTelefono.value&&inputTelefono.value.length>0&&!/^(\+?\+\d{1,4})?\+{0}\d{10}$/.test(inputTelefono.value.replaceAll(" ","")))&&(""===inputNome.value?(focusOutNome(),!1):(formValues.email=inputEmail.value,formValues.telefono=""===inputTelefono.value?"":inputTelefono.value,formValues.nomecognome=inputNome.value,!0))}function backFromContacts(){btnContacts.removeEventListener("click",setContacts,{once:!0,passive:!0}),document.querySelector("#step-contacts .hero-btn-back").removeEventListener("click",backFromContacts,{once:!0,passive:!0}),btnContacts=null,stepFotoStanza()}function projFormSend(e){if(e.preventDefault(),setContacts()){var t=null,o=new FormData;switch(formValues.stanza){case"Cucina":t="cucine",o.append("stanza","Cucina"),o.append("finitura",formValues.finitura),o.append("tipologiaCucina",formValues.tipologiaCucina);break;case"Soggiorno":t="soggiorni",o.append("stanza","Soggiorno"),o.append("finitura",formValues.finitura),o.append("tipologiaSoggiorno",formValues.tipologiaSoggiorno),o.append("elementiSoggiorno",formValues.elementiSoggiorno);break;case"Camera da letto":t="cameredaletto",o.append("stanza","Camera da letto"),o.append("finitura",formValues.finitura),o.append("tipologiaArmadio",formValues.tipologiaArmadio),o.append("tipologiaLetto",formValues.tipologiaLetto),o.append("boxcontenitore",formValues.boxContenitore);break;case"Cameretta":t="camerette",o.append("stanza","Cameretta"),o.append("qtaBambini",formValues.qtaBambini),o.append("genBambini",formValues.genBambini),o.append("elementiCameretta",formValues.elementiCameretta)}o.append("fotomisure",document.getElementById("fotomisure-input").files[0]),o.append("fotostanza",document.getElementById("fotostanza-input").files[0]),o.append("altreinfo",formValues.altreinfo),o.append("email",formValues.email),o.append("telefono",formValues.telefono),o.append("nomecognome",formValues.nomecognome);var n=new XMLHttpRequest;n.addEventListener("load",function(e){console.log("success: "+e)}),n.addEventListener("error",function(e){console.log("error: "+e)}),console.log("sending request"),n.open("POST","https://projform.herokuapp.com/"+t),n.send(o)}}function hideOthersAndShow(t){for(e of document.querySelectorAll(".hero-step"))e.style.display="none";t.style.display="block"}function showfileName(e,t){var o=e.split(/(\\|\/)/g).pop();document.getElementById(t+"-name").textContent=o}document.getElementById("hero-send-btn").addEventListener("click",projFormSend,{passive:!1}),stepStanza();